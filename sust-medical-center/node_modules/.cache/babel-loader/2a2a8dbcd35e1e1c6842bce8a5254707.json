{"ast":null,"code":"var _jsxFileName = \"F:\\\\DB project\\\\sust-medical-center-automation\\\\Client site\\\\sust-medical-center\\\\src\\\\Pages\\\\ProfileEdit\\\\ProfileEdit.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport \"./ProfileEdit.css\";\nimport akashdp from \"../../Images/Profilep/akashpp.png\";\nimport NavigationBar from \"../NavigationBar/Navbar\";\nimport Footer from \"../Footer/Footer\";\nimport Navbar from \"../PatientNavbar\";\nimport avatar from \"../../Images/profileicon/Avatar02-512.png\";\nimport Axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ProfileEdit = () => {\n  _s();\n\n  const [userList, setUserList] = useState([]);\n  const [username, setUsername] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [surname, setSurname] = useState(\"\");\n  const [mobileno, setMobileno] = useState(\"\");\n  const [sex, setSex] = useState(\"\");\n  const [dept, setDept] = useState(\"\");\n  const [reg, setReg] = useState(\"\");\n  const [session, setSession] = useState(\"\");\n  const navigate = useHistory();\n  const [authState, setAuthState] = useState({\n    username: \"\",\n    id: 0,\n    status: false\n  });\n  useEffect(() => {\n    Axios.get(\"http://localhost:3001/authen\", {\n      headers: {\n        accessToken: localStorage.getItem(\"accessToken\")\n      }\n    }).then(response => {\n      if (response.data.error) {\n        //setAuthState(false);\n        setAuthState({ ...authState,\n          status: false\n        });\n      } else if (response.data.email != null) {\n        console.log(response);\n        setAuthState({\n          username: response.data.username,\n          id: response.data.id,\n          status: true\n        });\n        setUsername(response.data.username);\n        console.log(username);\n      } else {\n        //setAuthState(false);\n        setAuthState({ ...authState,\n          status: false\n        });\n      }\n    });\n  }, []);\n  useEffect(() => {\n    Axios.get(\"http://localhost:3001/fetchData\").then(response => {//setUserList(response.data);\n      //console.log(response.data);\n    });\n  }, []);\n\n  const updateUser = () => {\n    Axios.put(\"http://localhost:3001/updating\", {\n      name: name,\n      surname: surname,\n      mobileno: mobileno,\n      sex: sex,\n      dept: dept,\n      reg: reg,\n      session: session,\n      username: username\n    }).then(response => {\n      setUserList(userList.map(val => {\n        return val.username == username ? {\n          username: val.username,\n          name: name,\n          surname: surname,\n          sex: sex,\n          mobileno: mobileno,\n          dept: dept,\n          reg: reg,\n          session: session\n        } : val;\n      }));\n    });\n    navigate.push(\"/profile\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"container rounded bg-white my-5 shadow-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-md-3 border-right\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"d-flex flex-column align-items-center text-center p-3 py-5\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"rounded mt-5\",\n              width: \"150px\",\n              src: avatar\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              class: \"font-weight-bold mt-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              class: \"text-black-50\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \" \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-md-5 border-right\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"p-3 py-5\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"d-flex justify-content-between align-items-center\",\n              children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                class: \"text-right text-theme text-bold\",\n                children: \"Profile Settings\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"col-md-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  class: \"labels\",\n                  children: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  class: \"form-control\",\n                  placeholder: \"first name\",\n                  onChange: e => {\n                    setName(e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"col-md-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  class: \"labels\",\n                  children: \"Surname\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  class: \"form-control\",\n                  placeholder: \"surname\",\n                  onChange: e => {\n                    setSurname(e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row mt-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"col-md-12\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  class: \"labels\",\n                  children: \"Mobile Number\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  class: \"form-control\",\n                  placeholder: \"enter phone number\",\n                  onChange: e => {\n                    setMobileno(e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"col-md-12\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  class: \"labels\",\n                  children: \"Sex\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  class: \"form-control\",\n                  placeholder: \"Sex\",\n                  onChange: e => {\n                    setSex(e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"col-md-12\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  class: \"labels\",\n                  children: \"Dept\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  class: \"form-control\",\n                  placeholder: \"enter dept\",\n                  onChange: e => {\n                    setDept(e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"col-md-12\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  class: \"labels\",\n                  children: \"Reg No\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  class: \"form-control\",\n                  placeholder: \"enter reg no\",\n                  onChange: e => {\n                    setReg(e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"col-md-12\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                class: \"labels\",\n                children: \"Session\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                class: \"form-control\",\n                placeholder: \"session\",\n                onChange: e => {\n                  setSession(e.target.value);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"mt-5 text-center\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                class: \"btn btn-primary bg-theme text-light w-50\",\n                type: \"button\",\n                onClick: () => {\n                  updateUser();\n                },\n                children: \"Save Profile\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ProfileEdit, \"Hy6XRZTIMvX6F+AaWUflRAUGeGw=\", false, function () {\n  return [useHistory];\n});\n\n_c = ProfileEdit;\nexport default ProfileEdit;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileEdit\");","map":{"version":3,"sources":["F:/DB project/sust-medical-center-automation/Client site/sust-medical-center/src/Pages/ProfileEdit/ProfileEdit.js"],"names":["React","useEffect","useState","akashdp","NavigationBar","Footer","Navbar","avatar","Axios","useHistory","ProfileEdit","userList","setUserList","username","setUsername","name","setName","surname","setSurname","mobileno","setMobileno","sex","setSex","dept","setDept","reg","setReg","session","setSession","navigate","authState","setAuthState","id","status","get","headers","accessToken","localStorage","getItem","then","response","data","error","email","console","log","updateUser","put","map","val","push","e","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect ,useState} from \"react\";\r\nimport \"./ProfileEdit.css\";\r\nimport akashdp from \"../../Images/Profilep/akashpp.png\";\r\nimport NavigationBar from \"../NavigationBar/Navbar\";\r\nimport Footer from \"../Footer/Footer\";\r\nimport Navbar from \"../PatientNavbar\";\r\nimport avatar from \"../../Images/profileicon/Avatar02-512.png\";\r\nimport Axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\nconst ProfileEdit = () => {\r\n\r\n\r\n\r\n  const [userList, setUserList] = useState([]);\r\n  const [username, setUsername] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const [surname, setSurname] = useState(\"\");\r\n  const [mobileno, setMobileno] = useState(\"\");\r\n  const [sex, setSex] = useState(\"\");\r\n  const [dept, setDept] = useState(\"\");\r\n  const [reg, setReg] = useState(\"\");\r\n  const [session,setSession] = useState(\"\");\r\n  const navigate = useHistory();\r\n\r\n\r\n  const [authState, setAuthState] = useState({\r\n    username: \"\",\r\n    id: 0,\r\n    status: false,\r\n    \r\n   });\r\n\r\n  useEffect(() => {\r\n    Axios\r\n      .get(\"http://localhost:3001/authen\", {\r\n        headers: {\r\n          accessToken: localStorage.getItem(\"accessToken\"),\r\n        },\r\n      })\r\n      .then((response) => {\r\n        if (response.data.error) {\r\n          //setAuthState(false);\r\n          setAuthState({ ...authState, status: false })\r\n        } else if(response.data.email!= null)  {\r\n          console.log(response);\r\n          setAuthState({\r\n            username: response.data.username,\r\n            id: response.data.id,\r\n            status: true,\r\n            \r\n          });\r\n          setUsername(response.data.username);\r\n          console.log(username);\r\n          \r\n        }\r\n        else\r\n        {\r\n          //setAuthState(false);\r\n          setAuthState({ ...authState, status: false })\r\n        }\r\n      });\r\n  }, []);\r\n\r\n\r\n\r\n   useEffect(() => {\r\n    Axios.get(\"http://localhost:3001/fetchData\").then((response) => {\r\n      //setUserList(response.data);\r\n      //console.log(response.data);\r\n    });\r\n  },[]);\r\n\r\n\r\n  const updateUser = () => {\r\n    Axios.put(\"http://localhost:3001/updating\", { name: name, surname: surname , mobileno : mobileno,sex:sex ,dept : dept , reg : reg,session:session , username:username}).then(\r\n      (response) => {\r\n        setUserList(\r\n          userList.map((val) => {\r\n            return val.username == username\r\n              ? {\r\n                  username: val.username,\r\n                  name: name,\r\n                  surname: surname,\r\n                  sex: sex,\r\n                  mobileno: mobileno,\r\n                  dept: dept,\r\n                  reg : reg,\r\n                  session : session,\r\n                }\r\n              : val;\r\n          })\r\n        );\r\n      }\r\n    );\r\n    navigate.push(\"/profile\");\r\n    \r\n  };\r\n\r\n\r\n  \r\n\r\n\r\n\r\n\r\n  \r\n  return (\r\n    <>\r\n      <Navbar/>\r\n      <div class=\"container rounded bg-white my-5 shadow-lg\">\r\n        <div class=\"row\" >\r\n          <div class=\"col-md-3 border-right\">\r\n            <div class=\"d-flex flex-column align-items-center text-center p-3 py-5\">\r\n              <img className=\"rounded mt-5\" width=\"150px\" src={avatar} />\r\n              <span class=\"font-weight-bold mt-3\"></span>\r\n              <span class=\"text-black-50\"></span>\r\n              <span> </span>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-md-5 border-right\">\r\n            <div class=\"p-3 py-5\">\r\n              <div class=\"d-flex justify-content-between align-items-center\">\r\n                <h4 class=\"text-right text-theme text-bold\">Profile Settings</h4>\r\n              </div>\r\n              <div class=\"row\">\r\n                <div class=\"col-md-6\">\r\n                  <label class=\"labels\">Name</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"first name\"\r\n                    \r\n                    onChange={(e)=>{setName(e.target.value);}}\r\n                  />\r\n                </div>\r\n                <div class=\"col-md-6\">\r\n                  <label class=\"labels\">Surname</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    \r\n                    placeholder=\"surname\"\r\n                    onChange={(e)=>{setSurname(e.target.value);}}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div class=\"row mt-3\">\r\n                <div class=\"col-md-12\">\r\n                  <label class=\"labels\">Mobile Number</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"enter phone number\"\r\n                    \r\n                    onChange={(e)=>{setMobileno(e.target.value);}}\r\n                  />\r\n                </div>\r\n                <div class=\"col-md-12\">\r\n                  <label class=\"labels\">Sex</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"Sex\"\r\n                    \r\n                    onChange={(e)=>{setSex(e.target.value);}}\r\n                  />\r\n                </div>\r\n                <div class=\"col-md-12\">\r\n                  <label class=\"labels\">Dept</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"enter dept\"\r\n                    \r\n                    onChange={(e)=>{setDept(e.target.value);}}\r\n                  />\r\n                </div>\r\n                <div class=\"col-md-12\">\r\n                  <label class=\"labels\">Reg No</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"enter reg no\"\r\n                    \r\n                    onChange={(e)=>{setReg(e.target.value);}}\r\n                  />\r\n                </div>\r\n              </div>\r\n              \r\n                <div class=\"col-md-12\">\r\n                  <label class=\"labels\">Session</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"session\"\r\n                    onChange={(e)=>{setSession(e.target.value);}}\r\n                    \r\n                  />\r\n                </div>\r\n                \r\n              \r\n              <div class=\"mt-5 text-center\">\r\n                <button class=\"btn btn-primary bg-theme text-light w-50\" type=\"button\"  onClick={() => {\r\n                    updateUser();\r\n                  }}>\r\n                  Save Profile\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {/*<div class=\"col-md-4\">\r\n            <div class=\"p-2 py-5\">\r\n              <div class=\"d-flex justify-content-between experience\">\r\n                <h4 className=\"text-theme\">Edit Educational Info</h4>\r\n              </div>\r\n              <div class=\"col-md-12\">\r\n                <label class=\"labels text-start\">Departpment</label>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Dept.\"\r\n                  value=\"\"\r\n                />\r\n              </div>\r\n              <div class=\"col-md-12\">\r\n                <label class=\"labels\">Registration No</label>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Reg. No\"\r\n                  value=\"\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>*/}\r\n        </div>\r\n      </div>\r\n      {/*<Footer></Footer>*/}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProfileEdit;"]},"metadata":{},"sourceType":"module"}