{"ast":null,"code":"var _jsxFileName = \"F:\\\\DB project\\\\sust-medical-center-automation\\\\Client site\\\\sust-medical-center\\\\src\\\\Pages\\\\PatientNotification.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport PatientNavbar from \"./PatientNavbar\";\nimport Axios from \"axios\";\nimport Box from \"@mui/material/Box\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction PatientNotification() {\n  _s();\n\n  const [username, setUsername] = useState(\"\");\n  const [reg, setReg] = useState(\"\");\n  const [userList, setUserList] = useState([]);\n  const [userCList, setUserCList] = useState([]);\n  const [userAppList, setUserAppList] = useState([]);\n  const [firstName, setfirstName] = useState(\"\");\n  const [lastName, setlastName] = useState(\"\");\n  const [dept, setDept] = useState(\"\");\n  const [session, setSession] = useState(\"\");\n  const [status, setStatus] = useState(\"\");\n  const [authState, setAuthState] = useState({\n    username: \"\",\n    id: 0,\n    status: false\n  });\n  useEffect(() => {\n    Axios.get(\"http://localhost:3001/authen\", {\n      headers: {\n        accessToken: localStorage.getItem(\"accessToken\")\n      }\n    }).then(response => {\n      if (response.data.error) {\n        //setAuthState(false);\n        setAuthState({ ...authState,\n          status: false\n        });\n      } else if (response.data.email != null) {\n        console.log(response); //setAuthState(false);\n        //setAuthState(true);\n        //console.log(a);\n\n        setAuthState({\n          username: response.data.username,\n          id: response.data.id,\n          status: true\n        });\n        setUsername(response.data.username);\n        console.log(authState);\n      } else {\n        //setAuthState(false);\n        setAuthState({ ...authState,\n          status: false\n        });\n      }\n    });\n  }, []);\n  useEffect(() => {\n    Axios.get(\"http://localhost:3001/fetchProfile\").then(response => {\n      setUserCList(response.data);\n      console.log(userCList.length);\n      {\n        userCList.map((val, key) => {\n          if (val.username == username) {\n            setReg(val.reg);\n          }\n        });\n      } //console.log(response.data);\n    });\n  }, []);\n  useEffect(() => {\n    Axios.get(\"http://localhost:3001/fetchClearance\").then(response => {\n      setUserList(response.data);\n      console.log(userList.length);\n      {\n        userList.map((val, key) => {\n          if (val.reg == reg) {\n            setfirstName(val.firstName);\n            setlastName(val.lastName);\n            setSession(val.session);\n            setDept(val.dept);\n          }\n        });\n      } //console.log(response.data);\n    });\n  }, []);\n  useEffect(() => {\n    Axios.get(\"http://localhost:3001/fetchApproved\").then(response => {\n      setUserAppList(response.data);\n      console.log(userAppList.length);\n      {\n        userAppList.map((val, key) => {\n          if (val.reg == reg) {\n            setStatus(val.status);\n          }\n        });\n      } //console.log(response.data);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(PatientNavbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"PatientNotification\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 5\n    }, this), \"if(status==\\\"Approved\\\")\", /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        width: \"100%\"\n      },\n      marginTop: 10,\n      marginBottom: 8,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Clearance Application is approved!!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"    \", /*#__PURE__*/_jsxDEV(\"button\", {\n            children: \"Download\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(PatientNotification, \"nR12G1b+Rn4x1C8f76nBlCHKwHI=\");\n\n_c = PatientNotification;\nexport default PatientNotification;\n\nvar _c;\n\n$RefreshReg$(_c, \"PatientNotification\");","map":{"version":3,"sources":["F:/DB project/sust-medical-center-automation/Client site/sust-medical-center/src/Pages/PatientNotification.js"],"names":["React","useState","useEffect","PatientNavbar","Axios","Box","PatientNotification","username","setUsername","reg","setReg","userList","setUserList","userCList","setUserCList","userAppList","setUserAppList","firstName","setfirstName","lastName","setlastName","dept","setDept","session","setSession","status","setStatus","authState","setAuthState","id","get","headers","accessToken","localStorage","getItem","then","response","data","error","email","console","log","length","map","val","key","width"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { useState ,useEffect} from 'react';\r\nimport PatientNavbar from \"./PatientNavbar\";\r\nimport Axios from \"axios\";\r\nimport Box from \"@mui/material/Box\";\r\n\r\nfunction PatientNotification() {\r\n\r\n    const [username,setUsername] = useState(\"\");\r\n    const [reg,setReg] = useState(\"\");\r\n    const [userList, setUserList] = useState([]);\r\n    const [userCList, setUserCList] = useState([]);\r\n    const [userAppList, setUserAppList] = useState([]);\r\n    const [firstName, setfirstName] = useState(\"\");\r\n  const [lastName, setlastName] = useState(\"\");\r\n  \r\n  const [dept, setDept] = useState(\"\");\r\n  const [session, setSession] = useState(\"\");\r\n  const [status,setStatus] = useState(\"\");\r\n\r\n\r\n\r\n    const [authState, setAuthState] = useState({\r\n        username: \"\",\r\n        id: 0,\r\n        status: false,\r\n       });\r\n    useEffect(() => {\r\n        Axios\r\n          .get(\"http://localhost:3001/authen\", {\r\n            headers: {\r\n              accessToken: localStorage.getItem(\"accessToken\"),\r\n            },\r\n          })\r\n          .then((response) => {\r\n            if (response.data.error) {\r\n              //setAuthState(false);\r\n              setAuthState({ ...authState, status: false })\r\n            } else if(response.data.email!= null)  {\r\n              console.log(response);\r\n              //setAuthState(false);\r\n              //setAuthState(true);\r\n              //console.log(a);\r\n              setAuthState({\r\n                username: response.data.username,\r\n                id: response.data.id,\r\n                status: true,\r\n              });\r\n              setUsername(response.data.username);\r\n              console.log(authState);\r\n              \r\n            }\r\n            else\r\n            {\r\n              //setAuthState(false);\r\n              setAuthState({ ...authState, status: false })\r\n            }\r\n          });\r\n      }, []);\r\n\r\n      useEffect(() => {\r\n        Axios.get(\"http://localhost:3001/fetchProfile\").then((response) => {\r\n          setUserCList(response.data);\r\n          console.log(userCList.length);\r\n          {userCList.map((val, key) => {\r\n            if(val.username == username)\r\n            {\r\n                setReg(val.reg);\r\n\r\n            }\r\n          }\r\n          )\r\n        }\r\n          \r\n          \r\n          //console.log(response.data);\r\n        });\r\n      },[]);\r\n\r\n\r\n\r\n      useEffect(() => {\r\n        Axios.get(\"http://localhost:3001/fetchClearance\").then((response) => {\r\n          setUserList(response.data);\r\n          console.log(userList.length);\r\n          {userList.map((val, key) => {\r\n            if(val.reg == reg)\r\n            {\r\n                setfirstName(val.firstName);\r\n                setlastName(val.lastName);\r\n                setSession(val.session);\r\n                setDept(val.dept);\r\n            }\r\n          }\r\n          )\r\n        }\r\n          \r\n          \r\n          //console.log(response.data);\r\n        });\r\n      },[]);\r\n\r\n\r\n      useEffect(() => {\r\n        Axios.get(\"http://localhost:3001/fetchApproved\").then((response) => {\r\n          setUserAppList(response.data);\r\n          console.log(userAppList.length);\r\n          {userAppList.map((val, key) => {\r\n            if(val.reg == reg)\r\n            {\r\n                setStatus(val.status);\r\n\r\n            }\r\n          }\r\n          )\r\n        }\r\n          \r\n          \r\n          //console.log(response.data);\r\n        });\r\n      },[]);\r\n\r\n\r\n\r\n      \r\n\r\n\r\n\r\n  return (\r\n    <>\r\n    <PatientNavbar/>\r\n    <div>PatientNotification</div>\r\n    if(status==\"Approved\"){\r\n        <Box sx={{ width: \"100%\" }} marginTop={10} marginBottom={8}>\r\n        <div >\r\n          <h1>Clearance Application is approved!!</h1>\r\n          <div>\r\n            \r\n             {\"    \"}\r\n\r\n            <button\r\n              \r\n            >\r\n              Download\r\n            </button>\r\n          </div>\r\n        </div>\r\n        </Box>\r\n\r\n    }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PatientNotification\r\n"]},"metadata":{},"sourceType":"module"}